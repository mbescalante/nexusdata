"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6848],{4594:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"data-sources/index","title":"Fuentes de Datos","description":"NexusData puede conectarse a m\xfaltiples fuentes de datos simult\xe1neamente, permiti\xe9ndote crear APIs unificadas sobre sistemas heterog\xe9neos.","source":"@site/docs/data-sources/index.md","sourceDirName":"data-sources","slug":"/data-sources/","permalink":"/nexusdata/en/docs/data-sources/","draft":false,"unlisted":false,"editUrl":"https://github.com/mbescalante/nexusdata/edit/main/docs/data-sources/index.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Inicio R\xe1pido","permalink":"/nexusdata/en/docs/quickstart"},"next":{"title":"SQL","permalink":"/nexusdata/en/docs/data-sources/sql"}}');var a=s(4848),i=s(8453);const o={sidebar_position:3},t="Fuentes de Datos",d={},c=[{value:"Fuentes soportadas",id:"fuentes-soportadas",level:2},{value:"Bases de datos relacionales",id:"bases-de-datos-relacionales",level:3},{value:"Bases de datos NoSQL",id:"bases-de-datos-nosql",level:3},{value:"Servicios y APIs",id:"servicios-y-apis",level:3},{value:"Archivos",id:"archivos",level:3},{value:"Configuraci\xf3n de fuentes de datos",id:"configuraci\xf3n-de-fuentes-de-datos",level:2},{value:"Ejemplos de configuraci\xf3n",id:"ejemplos-de-configuraci\xf3n",level:3},{value:"PostgreSQL",id:"postgresql",level:4},{value:"MySQL",id:"mysql",level:4},{value:"MongoDB",id:"mongodb",level:4},{value:"API REST externa",id:"api-rest-externa",level:4},{value:"Variables de entorno",id:"variables-de-entorno",level:2},{value:"M\xfaltiples fuentes de datos",id:"m\xfaltiples-fuentes-de-datos",level:2},{value:"Conexi\xf3n a modelos",id:"conexi\xf3n-a-modelos",level:2},{value:"Replicaci\xf3n y sincronizaci\xf3n",id:"replicaci\xf3n-y-sincronizaci\xf3n",level:2},{value:"Conexiones en tiempo de ejecuci\xf3n",id:"conexiones-en-tiempo-de-ejecuci\xf3n",level:2},{value:"Monitoreo de conexiones",id:"monitoreo-de-conexiones",level:2},{value:"Transacciones entre fuentes de datos",id:"transacciones-entre-fuentes-de-datos",level:2},{value:"Migraci\xf3n entre fuentes de datos",id:"migraci\xf3n-entre-fuentes-de-datos",level:2},{value:"Pr\xf3ximos pasos",id:"pr\xf3ximos-pasos",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"fuentes-de-datos",children:"Fuentes de Datos"})}),"\n",(0,a.jsx)(n.p,{children:"NexusData puede conectarse a m\xfaltiples fuentes de datos simult\xe1neamente, permiti\xe9ndote crear APIs unificadas sobre sistemas heterog\xe9neos."}),"\n",(0,a.jsx)(n.h2,{id:"fuentes-soportadas",children:"Fuentes soportadas"}),"\n",(0,a.jsx)(n.p,{children:"NexusData admite las siguientes fuentes de datos:"}),"\n",(0,a.jsx)(n.h3,{id:"bases-de-datos-relacionales",children:"Bases de datos relacionales"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"PostgreSQL"}),"\n",(0,a.jsx)(n.li,{children:"MySQL/MariaDB"}),"\n",(0,a.jsx)(n.li,{children:"SQL Server"}),"\n",(0,a.jsx)(n.li,{children:"SQLite"}),"\n",(0,a.jsx)(n.li,{children:"Oracle"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"bases-de-datos-nosql",children:"Bases de datos NoSQL"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"MongoDB"}),"\n",(0,a.jsx)(n.li,{children:"DynamoDB"}),"\n",(0,a.jsx)(n.li,{children:"Firebase/Firestore"}),"\n",(0,a.jsx)(n.li,{children:"Cassandra"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"servicios-y-apis",children:"Servicios y APIs"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"REST APIs existentes"}),"\n",(0,a.jsx)(n.li,{children:"GraphQL APIs"}),"\n",(0,a.jsx)(n.li,{children:"gRPC"}),"\n",(0,a.jsx)(n.li,{children:"SOAP/XML"}),"\n",(0,a.jsx)(n.li,{children:"Servicios OData"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"archivos",children:"Archivos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"CSV"}),"\n",(0,a.jsx)(n.li,{children:"Excel"}),"\n",(0,a.jsx)(n.li,{children:"JSON"}),"\n",(0,a.jsx)(n.li,{children:"XML"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"configuraci\xf3n-de-fuentes-de-datos",children:"Configuraci\xf3n de fuentes de datos"}),"\n",(0,a.jsxs)(n.p,{children:["Las fuentes de datos se definen en el archivo ",(0,a.jsx)(n.code,{children:"datasources.yaml"})," o en la secci\xf3n ",(0,a.jsx)(n.code,{children:"datasources"})," de tu archivo ",(0,a.jsx)(n.code,{children:"nexusdata.config.js"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"ejemplos-de-configuraci\xf3n",children:"Ejemplos de configuraci\xf3n"}),"\n",(0,a.jsx)(n.h4,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  postgres:\r\n    type: postgresql\r\n    url: postgres://usuario:contrase\xf1a@localhost:5432/mi_db\r\n    schema: public\r\n    ssl: false\r\n    poolConfig:\r\n      min: 2\r\n      max: 10\n"})}),"\n",(0,a.jsx)(n.h4,{id:"mysql",children:"MySQL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  mysql:\r\n    type: mysql\r\n    host: localhost\r\n    port: 3306\r\n    user: root\r\n    password: ${env.MYSQL_PASSWORD}\r\n    database: mi_db\r\n    charset: utf8mb4\n"})}),"\n",(0,a.jsx)(n.h4,{id:"mongodb",children:"MongoDB"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  mongo:\r\n    type: mongodb\r\n    url: mongodb://usuario:contrase\xf1a@localhost:27017/mi_db\r\n    options:\r\n      useNewUrlParser: true\r\n      useUnifiedTopology: true\n"})}),"\n",(0,a.jsx)(n.h4,{id:"api-rest-externa",children:"API REST externa"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  external_api:\r\n    type: rest\r\n    baseUrl: https://api.ejemplo.com/v1\r\n    headers:\r\n      Authorization: Bearer ${env.API_TOKEN}\r\n      Content-Type: application/json\r\n    timeout: 5000\r\n    mapping:\r\n      users: /users\r\n      posts: /posts\n"})}),"\n",(0,a.jsx)(n.h2,{id:"variables-de-entorno",children:"Variables de entorno"}),"\n",(0,a.jsx)(n.p,{children:"Para mantener seguras tus credenciales, puedes usar variables de entorno:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  postgres:\r\n    type: postgresql\r\n    url: ${env.DATABASE_URL}\r\n    schema: public\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Luego, crea un archivo ",(0,a.jsx)(n.code,{children:".env"})," en la ra\xedz de tu proyecto:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"DATABASE_URL=postgres://usuario:contrase\xf1a@localhost:5432/mi_db\r\nAPI_TOKEN=tu_token_secreto\n"})}),"\n",(0,a.jsx)(n.h2,{id:"m\xfaltiples-fuentes-de-datos",children:"M\xfaltiples fuentes de datos"}),"\n",(0,a.jsx)(n.p,{children:"Puedes configurar varias fuentes de datos en un solo proyecto:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  users_db:\r\n    type: postgresql\r\n    url: postgres://usuario:contrase\xf1a@localhost:5432/usuarios\r\n    \r\n  products_db:\r\n    type: mysql\r\n    host: db.ejemplo.com\r\n    port: 3306\r\n    user: root\r\n    password: ${env.PRODUCTS_DB_PASSWORD}\r\n    database: productos\r\n    \r\n  analytics:\r\n    type: mongodb\r\n    url: mongodb://usuario:contrase\xf1a@localhost:27017/analytics\n"})}),"\n",(0,a.jsx)(n.h2,{id:"conexi\xf3n-a-modelos",children:"Conexi\xf3n a modelos"}),"\n",(0,a.jsx)(n.p,{children:"Puedes especificar qu\xe9 fuente de datos usar para cada modelo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"models:\r\n  User:\r\n    datasource: users_db\r\n    fields:\r\n      id: uuid\r\n      name: string\r\n      email: string\r\n      \r\n  Product:\r\n    datasource: products_db\r\n    fields:\r\n      id: integer\r\n      name: string\r\n      price: decimal\r\n      \r\n  UserAnalytics:\r\n    datasource: analytics\r\n    fields:\r\n      userId: string\r\n      lastLogin: datetime\r\n      activityScore: integer\n"})}),"\n",(0,a.jsx)(n.h2,{id:"replicaci\xf3n-y-sincronizaci\xf3n",children:"Replicaci\xf3n y sincronizaci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"NexusData permite configurar replicaci\xf3n entre fuentes de datos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"replication:\r\n  users_to_analytics:\r\n    source:\r\n      datasource: users_db\r\n      model: User\r\n    target:\r\n      datasource: analytics\r\n      model: UserProfile\r\n    triggers:\r\n      - create\r\n      - update\r\n    mapping:\r\n      id: userId\r\n      name: userName\r\n      email: userEmail\r\n    schedule: every 30 minutes\n"})}),"\n",(0,a.jsx)(n.h2,{id:"conexiones-en-tiempo-de-ejecuci\xf3n",children:"Conexiones en tiempo de ejecuci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"Tambi\xe9n puedes conectar fuentes de datos din\xe1micamente:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// src/datasources/dynamicConnection.js\r\nexport default async function connectDynamicDatabase(config) {\r\n  return {\r\n    type: 'postgresql',\r\n    url: `postgres://${config.username}:${config.password}@${config.host}:${config.port}/${config.database}`\r\n  };\r\n}\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"datasources:\r\n  dynamic:\r\n    type: function\r\n    handler: src/datasources/dynamicConnection.js\r\n    config:\r\n      host: ${env.DYNAMIC_DB_HOST}\r\n      port: ${env.DYNAMIC_DB_PORT}\r\n      username: ${env.DYNAMIC_DB_USER}\r\n      password: ${env.DYNAMIC_DB_PASSWORD}\r\n      database: ${env.DYNAMIC_DB_NAME}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"monitoreo-de-conexiones",children:"Monitoreo de conexiones"}),"\n",(0,a.jsx)(n.p,{children:"NexusData proporciona m\xe9tricas de salud de las conexiones:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nexusdata datasource:status\n"})}),"\n",(0,a.jsx)(n.p,{children:"Resultado:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Datasource: postgres\r\nStatus: Connected\r\nConnection Pool: 2/10 (active/max)\r\nPing: 5ms\r\n\r\nDatasource: mysql\r\nStatus: Connected\r\nConnection Pool: 1/5 (active/max)\r\nPing: 8ms\r\n\r\nDatasource: mongo\r\nStatus: Connected\r\nPing: 12ms\n"})}),"\n",(0,a.jsx)(n.h2,{id:"transacciones-entre-fuentes-de-datos",children:"Transacciones entre fuentes de datos"}),"\n",(0,a.jsx)(n.p,{children:"NexusData admite transacciones distribuidas:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"// src/business-logic/transferFunds.js\r\nexport default async function transferFunds(from, to, amount, context) {\r\n  const { transaction } = context;\r\n  \r\n  // Inicia una transacci\xf3n distribuida\r\n  return transaction.withTransaction(async (tx) => {\r\n    // Operaci\xf3n en la fuente de datos 'accounts'\r\n    await tx.accounts.Account.update({\r\n      where: { id: from },\r\n      data: { balance: { decrement: amount } }\r\n    });\r\n    \r\n    // Operaci\xf3n en la fuente de datos 'analytics'\r\n    await tx.analytics.Transaction.create({\r\n      data: {\r\n        fromAccount: from,\r\n        toAccount: to,\r\n        amount: amount,\r\n        timestamp: new Date()\r\n      }\r\n    });\r\n    \r\n    // Operaci\xf3n en la fuente de datos 'accounts'\r\n    await tx.accounts.Account.update({\r\n      where: { id: to },\r\n      data: { balance: { increment: amount } }\r\n    });\r\n  });\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"migraci\xf3n-entre-fuentes-de-datos",children:"Migraci\xf3n entre fuentes de datos"}),"\n",(0,a.jsx)(n.p,{children:"NexusData facilita la migraci\xf3n de datos:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Migrar esquema\r\nnexusdata migrate --from=postgres --to=mysql\r\n\r\n# Migrar datos\r\nnexusdata data:transfer --from=postgres --to=mysql --models=User,Post\n"})}),"\n",(0,a.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos pasos"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Aprende a ",(0,a.jsx)(n.a,{href:"/docs/data-modeling",children:"definir modelos"})," para tus fuentes de datos"]}),"\n",(0,a.jsxs)(n.li,{children:["Explora c\xf3mo ",(0,a.jsx)(n.a,{href:"/docs/business-logic",children:"implementar la l\xf3gica de negocio"})," entre m\xfaltiples fuentes"]}),"\n",(0,a.jsxs)(n.li,{children:["Configura ",(0,a.jsx)(n.a,{href:"/docs/performance",children:"pol\xedticas de cach\xe9"})," para optimizar el acceso a datos"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var r=s(6540);const a={},i=r.createContext(a);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);