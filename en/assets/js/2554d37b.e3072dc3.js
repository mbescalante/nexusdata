"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2211],{392:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"monitoring/metrics","title":"M\xe9tricas","description":"El dashboard de m\xe9tricas proporciona una vista centralizada y detallada del comportamiento y rendimiento de tu aplicaci\xf3n NexusData, facilitando la supervisi\xf3n de indicadores clave y el an\xe1lisis de datos hist\xf3ricos para la toma de decisiones basada en m\xe9tricas.","source":"@site/docs/monitoring/metrics.md","sourceDirName":"monitoring","slug":"/monitoring/metrics","permalink":"/nexusdata/en/docs/monitoring/metrics","draft":false,"unlisted":false,"editUrl":"https://github.com/mbescalante/nexusdata/edit/main/docs/monitoring/metrics.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Sistema de Logs","permalink":"/nexusdata/en/docs/monitoring/logs"},"next":{"title":"Sistema de Alertas","permalink":"/nexusdata/en/docs/monitoring/alertas"}}');var i=a(4848),n=a(8453);const t={sidebar_position:1},c="M\xe9tricas",d={},o=[{value:"Caracter\xedsticas principales",id:"caracter\xedsticas-principales",level:2},{value:"Configuraci\xf3n del dashboard de m\xe9tricas",id:"configuraci\xf3n-del-dashboard-de-m\xe9tricas",level:2},{value:"Configuraci\xf3n b\xe1sica",id:"configuraci\xf3n-b\xe1sica",level:3},{value:"Acceso al dashboard",id:"acceso-al-dashboard",level:3},{value:"M\xe9tricas disponibles",id:"m\xe9tricas-disponibles",level:2},{value:"Ejemplo de personalizaci\xf3n de m\xe9tricas",id:"ejemplo-de-personalizaci\xf3n-de-m\xe9tricas",level:3},{value:"Buenas pr\xe1cticas recomendadas",id:"buenas-pr\xe1cticas-recomendadas",level:3},{value:"Visualizaci\xf3n de gr\xe1ficos",id:"visualizaci\xf3n-de-gr\xe1ficos",level:2},{value:"Tipos de gr\xe1ficos compatibles",id:"tipos-de-gr\xe1ficos-compatibles",level:3},{value:"Librer\xedas sugeridas",id:"librer\xedas-sugeridas",level:2},{value:"Ejemplo de integraci\xf3n con Chart.js",id:"ejemplo-de-integraci\xf3n-con-chartjs",level:2},{value:"API de m\xe9tricas personalizada",id:"api-de-m\xe9tricas-personalizada",level:2},{value:"Exportaci\xf3n gr\xe1fica de m\xe9tricas",id:"exportaci\xf3n-gr\xe1fica-de-m\xe9tricas",level:2}];function l(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"m\xe9tricas",children:"M\xe9tricas"})}),"\n",(0,i.jsxs)(r.p,{children:["El dashboard de m\xe9tricas proporciona una vista centralizada y detallada del comportamiento y rendimiento de tu aplicaci\xf3n ",(0,i.jsx)(r.strong,{children:"NexusData"}),", facilitando la supervisi\xf3n de indicadores clave y el an\xe1lisis de datos hist\xf3ricos para la toma de decisiones basada en m\xe9tricas."]}),"\n",(0,i.jsx)(r.h2,{id:"caracter\xedsticas-principales",children:"Caracter\xedsticas principales"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Visualizaci\xf3n en tiempo real"}),": Consulta m\xe9tricas actualizadas cada pocos segundos para una respuesta inmediata."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Alertas inteligentes"}),": Define umbrales cr\xedticos y recibe notificaciones autom\xe1ticas cuando se detecten anomal\xedas."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"An\xe1lisis de tendencias"}),": Explora el comportamiento de las m\xe9tricas a lo largo del tiempo para detectar patrones relevantes."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Dashboards personalizables"}),": Dise\xf1a vistas a medida con las m\xe9tricas m\xe1s importantes para tu operaci\xf3n."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Exportaci\xf3n y reportes"}),": Extrae m\xe9tricas en formatos compatibles para an\xe1lisis avanzados o generaci\xf3n de informes."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"configuraci\xf3n-del-dashboard-de-m\xe9tricas",children:"Configuraci\xf3n del dashboard de m\xe9tricas"}),"\n",(0,i.jsx)(r.h3,{id:"configuraci\xf3n-b\xe1sica",children:"Configuraci\xf3n b\xe1sica"}),"\n",(0,i.jsx)(r.p,{children:"Para activar el dashboard enfocado en m\xe9tricas, aseg\xfarate de habilitarlo en el archivo de configuraci\xf3n de NexusData:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// nexusdata.config.js\r\nmodule.exports = {\r\n  // ... otras configuraciones\r\n  monitoring: {\r\n    enabled: true,\r\n    dashboard: {\r\n      enabled: true,\r\n      port: 3030,\r\n      basePath: '/metrics-dashboard',\r\n      auth: {\r\n        enabled: true,\r\n        type: 'basic', // 'basic', 'jwt', 'oauth'\r\n        users: [\r\n          {\r\n            username: process.env.METRICS_DASHBOARD_USER || 'admin',\r\n            password: process.env.METRICS_DASHBOARD_PASSWORD || 'admin'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    metrics: {\r\n      enabled: true,\r\n      interval: 10000, // Intervalo de recopilaci\xf3n en milisegundos\r\n      retention: {\r\n        detailed: '7d',   // Datos detallados por 7 d\xedas\r\n        hourly: '30d',    // M\xe9tricas por hora por 30 d\xedas\r\n        daily: '365d'     // M\xe9tricas diarias por 1 a\xf1o\r\n      }\r\n    },\r\n    logging: {\r\n      level: 'info', // Niveles: 'debug', 'info', 'warn', 'error'\r\n      console: true,\r\n      file: true,\r\n      filePath: './logs/metrics-dashboard.log'\r\n    }\r\n  }\r\n};\n"})}),"\n",(0,i.jsx)(r.h3,{id:"acceso-al-dashboard",children:"Acceso al dashboard"}),"\n",(0,i.jsx)(r.p,{children:"Una vez configurado, puedes acceder al dashboard desde el navegador mediante:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"http://localhost:3030/monitoring/metrics-dashboard\n"})}),"\n",(0,i.jsx)(r.p,{children:"Si la autenticaci\xf3n est\xe1 activada, se solicitar\xe1n las credenciales configuradas en MONITORING_USER y MONITORING_PASSWORD."}),"\n",(0,i.jsx)(r.h2,{id:"m\xe9tricas-disponibles",children:"M\xe9tricas disponibles"}),"\n",(0,i.jsx)(r.p,{children:"El dashboard puede mostrar m\xfaltiples tipos de m\xe9tricas \xfatiles para evaluar el estado de tu aplicaci\xf3n:"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:(0,i.jsx)(r.strong,{children:"Tipo de M\xe9trica"})}),(0,i.jsx)(r.th,{children:(0,i.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"CPU"})}),(0,i.jsx)(r.td,{children:"Uso actual del procesador"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Memoria"})}),(0,i.jsx)(r.td,{children:"Consumo de memoria RAM del proceso"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Solicitudes HTTP"})}),(0,i.jsx)(r.td,{children:"Cantidad de peticiones entrantes, errores y latencia promedio por endpoint"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Errores"})}),(0,i.jsx)(r.td,{children:"Tasa de errores, excepciones capturadas, c\xf3digos 4xx/5xx"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Tiempos de respuesta"})}),(0,i.jsx)(r.td,{children:"Medici\xf3n del tiempo promedio de respuesta"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"M\xe9tricas personalizadas"})}),(0,i.jsx)(r.td,{children:"Puedes definir tus propias m\xe9tricas seg\xfan tus necesidades"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Promedio de peticiones"})}),(0,i.jsx)(r.td,{children:"Cantidad de peticiones por segundo en un intervalo de tiempo"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"ejemplo-de-personalizaci\xf3n-de-m\xe9tricas",children:"Ejemplo de personalizaci\xf3n de m\xe9tricas"}),"\n",(0,i.jsx)(r.p,{children:"Puedes extender las m\xe9tricas incorporando funciones personalizadas:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"metrics: {\r\n  enabled: true,\r\n  custom: [\r\n    {\r\n      name: 'active_sessions',\r\n      value: () => getActiveSessionCount() // l\xf3gica interna definida por ti\r\n    }\r\n  ]\r\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"buenas-pr\xe1cticas-recomendadas",children:"Buenas pr\xe1cticas recomendadas"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Activa autenticaci\xf3n para restringir el acceso al dashboard"}),"\n",(0,i.jsx)(r.li,{children:"Ajusta el interval de recolecci\xf3n de m\xe9tricas seg\xfan la carga de tu sistema"}),"\n",(0,i.jsx)(r.li,{children:"Utiliza los logs generados para an\xe1lisis forense o trazabilidad de errores"}),"\n",(0,i.jsx)(r.li,{children:"Exporta las m\xe9tricas regularmente si necesitas integrarlas con herramientas externas como Grafana o Prometheus"}),"\n",(0,i.jsx)(r.li,{children:"Usa los datos hist\xf3ricos para analizar patrones de crecimiento, detectar cuellos de botella y tomar decisiones t\xe9cnicas m\xe1s acertadas"}),"\n",(0,i.jsx)(r.li,{children:"Considera la escalabilidad de tu sistema al agregar m\xe1s m\xe9tricas o usuarios"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"visualizaci\xf3n-de-gr\xe1ficos",children:"Visualizaci\xf3n de gr\xe1ficos"}),"\n",(0,i.jsx)(r.p,{children:"El dashboard incluye soporte para visualizar m\xe9tricas a trav\xe9s de gr\xe1ficos din\xe1micos e interactivos, lo que facilita el an\xe1lisis visual del comportamiento de la aplicaci\xf3n."}),"\n",(0,i.jsx)(r.h3,{id:"tipos-de-gr\xe1ficos-compatibles",children:"Tipos de gr\xe1ficos compatibles"}),"\n",(0,i.jsx)(r.p,{children:"Puedes representar las m\xe9tricas del sistema con los siguientes tipos de gr\xe1ficos:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\ud83d\udcca ",(0,i.jsx)(r.strong,{children:"L\xedneas"}),": Ideal para mostrar cambios de una m\xe9trica en el tiempo (por ejemplo, uso de CPU o latencia)"]}),"\n",(0,i.jsxs)(r.li,{children:["\ud83d\udcc8 ",(0,i.jsx)(r.strong,{children:"\xc1reas"}),": Visualizaci\xf3n acumulativa \xfatil para m\xe9tricas como memoria utilizada"]}),"\n",(0,i.jsxs)(r.li,{children:["\ud83d\udcc9 ",(0,i.jsx)(r.strong,{children:"Barras"}),": Comparaci\xf3n entre diferentes endpoints o usuarios concurrentes"]}),"\n",(0,i.jsxs)(r.li,{children:["\ud83d\udd25 ",(0,i.jsx)(r.strong,{children:"Tortas (Pie charts)"}),": Para representar distribuci\xf3n (por ejemplo, tipos de errores o tipos de peticiones)"]}),"\n",(0,i.jsxs)(r.li,{children:["\u23f1\ufe0f ",(0,i.jsx)(r.strong,{children:"Indicadores de tiempo real"}),": Uso actual de recursos o n\xfamero de usuarios activos"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"librer\xedas-sugeridas",children:"Librer\xedas sugeridas"}),"\n",(0,i.jsx)(r.p,{children:"Puedes integrar tu dashboard con librer\xedas de gr\xe1ficos como:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://www.chartjs.org/",children:"Chart.js"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://echarts.apache.org/",children:"ECharts"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://d3js.org/",children:"D3.js"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://recharts.org/",children:"Recharts (React)"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"https://plotly.com/javascript/",children:"Plotly"})}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Estas librer\xedas permiten generar visualizaciones potentes y adaptables para mostrar los datos recopilados por NexusData."}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"ejemplo-de-integraci\xf3n-con-chartjs",children:"Ejemplo de integraci\xf3n con Chart.js"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-html",children:"<canvas id=\"cpuChart\"></canvas>\r\n\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"><\/script>\r\n<script>\r\n  const ctx = document.getElementById('cpuChart').getContext('2d');\r\n  const cpuChart = new Chart(ctx, {\r\n    type: 'line',\r\n    data: {\r\n      labels: ['10:00', '10:01', '10:02', '10:03'],\r\n      datasets: [{\r\n        label: 'Uso de CPU (%)',\r\n        data: [25, 40, 32, 47],\r\n        backgroundColor: 'rgba(75, 192, 192, 0.2)',\r\n        borderColor: 'rgba(75, 192, 192, 1)',\r\n        borderWidth: 2,\r\n        fill: true,\r\n        tension: 0.4\r\n      }]\r\n    },\r\n    options: {\r\n      scales: {\r\n        y: {\r\n          beginAtZero: true,\r\n          max: 100\r\n        }\r\n      }\r\n    }\r\n  });\r\n<\/script>\n"})}),"\n",(0,i.jsx)(r.p,{children:"Puedes enlazar este gr\xe1fico con un endpoint de la API que devuelva las m\xe9tricas en tiempo real usando fetch() o Axios."}),"\n",(0,i.jsx)(r.h2,{id:"api-de-m\xe9tricas-personalizada",children:"API de m\xe9tricas personalizada"}),"\n",(0,i.jsx)(r.p,{children:"Si deseas crear una API espec\xedfica para alimentar tus gr\xe1ficos con datos reales, puedes exponer un endpoint como este:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"// routes/metrics.js\r\napp.get('/api/metrics/cpu', async (req, res) => {\r\n  const usage = await getCpuUsage(); // tu funci\xf3n personalizada\r\n  res.json({ time: Date.now(), value: usage });\r\n});\n"})}),"\n",(0,i.jsx)(r.p,{children:"Luego puedes consumirlo desde tu gr\xe1fico y actualizarlo en intervalos:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-javascript",children:"setInterval(async () => {\r\n  const response = await fetch('/api/metrics/cpu');\r\n  const data = await response.json();\r\n  // actualizar el gr\xe1fico din\xe1micamente...\r\n}, 5000);\n"})}),"\n",(0,i.jsx)(r.h2,{id:"exportaci\xf3n-gr\xe1fica-de-m\xe9tricas",children:"Exportaci\xf3n gr\xe1fica de m\xe9tricas"}),"\n",(0,i.jsx)(r.p,{children:"Adem\xe1s de visualizarlas en el dashboard, tambi\xe9n puedes:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\ud83d\udce5 Exportar gr\xe1ficos como im\xe1genes (.png, .svg, .pdf)"}),"\n",(0,i.jsxs)(r.li,{children:["\ud83e\uddfe Generar reportes PDF autom\xe1ticos con herramientas como:","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"jsPDF"}),"\n",(0,i.jsx)(r.li,{children:"Puppeteer (captura de pantallas del dashboard)"}),"\n",(0,i.jsx)(r.li,{children:"html2canvas"}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>t,x:()=>c});var s=a(6540);const i={},n=s.createContext(i);function t(e){const r=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);